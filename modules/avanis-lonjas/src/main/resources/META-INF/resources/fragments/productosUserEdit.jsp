<%@ include file="../init.jsp" %>

<portlet:actionURL name="action_cmd_command" var="updateProductosUserURL">
    <portlet:param name="<%=Constants.CMD%>" value="updateProductosUser" />
</portlet:actionURL>


<aui:form action="${updateProductosUserURL}" method="post" name="formFavorites" cssClass="av-ac-mp__form" style="width: 100%;">
    <ul class="av-lm-modal__ef-draggable-list">
        <c:forEach var="favorito" items="${favoritosUser}">
            <li class="av-lm-modal__ef-draggable-item producto-modal-${favorito.entityId}" draggable="true" >
                <aui:input type="hidden" name="productoId" value="${favorito.productoId}" />
                <aui:input type="hidden" name="idLonja" value="${favorito.idLonja}" />
                <div class="av-lm-modal__ef-texts">
                    <div class="av-lm-modal__ef-title">
                            ${favorito.nombreProducto}
                    </div>
                    <div class="av-lm-modal__ef-market">
                        <div class="av-theme__icon-box-16">
                            <svg
                                    width="14"
                                    height="12"
                                    viewBox="0 0 14 12"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                        fill-rule="evenodd"
                                        clip-rule="evenodd"
                                        d="M3.60908 -0.000104775C3.62633 -3.92891e-05 3.64317 2.46071e-05 3.65954 2.46071e-05H10.3411C10.3574 2.46071e-05 10.3743 -3.92891e-05 10.3915 -0.000104775C10.5755 -0.000803341 10.8068 -0.00168136 11.023 0.0728977C11.2099 0.13734 11.38 0.242511 11.5212 0.380801C11.6846 0.540836 11.7873 0.748094 11.869 0.912986C11.8766 0.92845 11.8841 0.94354 11.8914 0.958185L13.2201 3.61555C13.2756 3.72658 13.3358 3.8468 13.3772 3.9528C13.4206 4.06393 13.4835 4.25397 13.4502 4.47951C13.41 4.75163 13.2595 4.99517 13.0341 5.15281C12.8473 5.28349 12.6491 5.31219 12.5303 5.32306C12.4693 5.32865 12.4021 5.33122 12.3336 5.33239V11.3334C12.3336 11.7015 12.0352 12 11.667 12C11.2988 12 11.0003 11.7015 11.0003 11.3334V5.33336H3.0003V8.00002H8.33364V7.33336C8.33364 6.96517 8.63211 6.66669 9.0003 6.66669C9.36849 6.66669 9.66697 6.96517 9.66697 7.33336L9.66697 9.7574C9.66699 10.0168 9.667 10.2502 9.65113 10.4444C9.63414 10.6524 9.59568 10.8734 9.48531 11.09C9.32553 11.4036 9.07056 11.6586 8.75695 11.8184C8.54035 11.9287 8.31937 11.9672 8.11139 11.9842C7.91718 12.0001 7.68376 12 7.42438 12H3.90957C3.65018 12 3.41676 12.0001 3.22255 11.9842C3.01457 11.9672 2.79359 11.9287 2.57699 11.8184C2.26338 11.6586 2.00842 11.4036 1.84863 11.09C1.73826 10.8734 1.6998 10.6524 1.68281 10.4444C1.66694 10.2502 1.66695 10.0168 1.66697 9.75742L1.66697 5.33239C1.59855 5.33122 1.53135 5.32865 1.47028 5.32306C1.35147 5.31219 1.15334 5.28349 0.966508 5.15281C0.741105 4.99516 0.590592 4.75163 0.550388 4.47952C0.517064 4.25397 0.580002 4.06393 0.623409 3.9528C0.664812 3.8468 0.724964 3.72657 0.780515 3.61555C0.783674 3.60924 0.786818 3.60295 0.789943 3.5967L2.1092 0.958188C2.11652 0.943546 2.12399 0.928457 2.13165 0.912997C2.21332 0.748096 2.31597 0.54084 2.47937 0.3808C2.62056 0.242512 2.79073 0.137341 2.97757 0.0728976C3.19378 -0.00168128 3.42506 -0.000803341 3.60908 -0.000104775ZM11.9216 4.00002L10.6988 1.55448C10.6417 1.44024 10.6121 1.38163 10.5882 1.34044C10.5875 1.3392 10.5868 1.33802 10.5861 1.33689C10.5848 1.3368 10.5834 1.33671 10.582 1.33662C10.5345 1.33366 10.4688 1.33336 10.3411 1.33336H3.65954C3.53182 1.33336 3.46614 1.33366 3.41861 1.33662C3.41718 1.33671 3.41581 1.3368 3.41451 1.33689C3.41384 1.33802 3.41315 1.3392 3.41243 1.34044C3.38853 1.38162 3.35889 1.44023 3.30177 1.55447L2.07899 4.00002H11.9216ZM3.0003 9.33336V9.73336C3.0003 10.0244 3.00082 10.2026 3.01171 10.3359C3.01679 10.398 3.02316 10.4355 3.02853 10.4584C3.03109 10.4692 3.03323 10.4759 3.03452 10.4795C3.03576 10.483 3.0365 10.4844 3.03664 10.4847C3.06859 10.5474 3.11959 10.5984 3.18231 10.6304C3.18258 10.6305 3.18403 10.6312 3.1875 10.6325C3.19111 10.6338 3.19778 10.6359 3.20864 10.6385C3.23145 10.6438 3.26903 10.6502 3.33113 10.6553C3.46443 10.6662 3.64261 10.6667 3.93364 10.6667H7.4003C7.69133 10.6667 7.86951 10.6662 8.00281 10.6553C8.06491 10.6502 8.10249 10.6438 8.1253 10.6385C8.13616 10.6359 8.14283 10.6338 8.14644 10.6325C8.14991 10.6312 8.15136 10.6305 8.15163 10.6304C8.21435 10.5984 8.26535 10.5474 8.29731 10.4847C8.29744 10.4844 8.29818 10.483 8.29942 10.4795C8.30071 10.4759 8.30285 10.4692 8.30541 10.4584C8.31078 10.4355 8.31715 10.398 8.32223 10.3359C8.33312 10.2026 8.33364 10.0244 8.33364 9.73336V9.33336H3.0003Z"
                                        fill="#646B6B"
                                />
                            </svg>
                        </div>
                        <span> <liferay-ui:message key="avanis.lonjas.lonja.de" /> ${favorito.nombreLonja} </span>
                    </div>
                </div>
                <div class="av-lm-modal__ef-icons">
                    <div class="av-theme__icon-box-24">
                        <svg
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                    fill-rule="evenodd"
                                    clip-rule="evenodd"
                                    d="M3 10C3 9.44772 3.44772 9 4 9H20C20.5523 9 21 9.44772 21 10C21 10.5523 20.5523 11 20 11H4C3.44772 11 3 10.5523 3 10ZM3 14C3 13.4477 3.44772 13 4 13H20C20.5523 13 21 13.4477 21 14C21 14.5523 20.5523 15 20 15H4C3.44772 15 3 14.5523 3 14Z"
                                    fill="#107E3E"
                            />
                        </svg>
                    </div>
                    <div class="av-theme__icon-box-24 av-lm-modal__ef-icon-trash">
                        <a href="javascript:void(0);" onclick="deleteProductoUserModal('${favorito.entityId}')">
                            <svg
                                    width="24"
                                    height="24"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                        fill-rule="evenodd"
                                        clip-rule="evenodd"
                                        d="M11.1614 1.9999C11.2093 1.99997 11.2577 2.00004 11.3064 2.00004H12.6936C12.7423 2.00004 12.7907 1.99997 12.8386 1.9999C13.5221 1.99888 14.122 1.99798 14.6565 2.2082C15.1239 2.39202 15.5376 2.69024 15.8598 3.07551C16.2283 3.51612 16.4171 4.08549 16.6323 4.73421C16.6474 4.77971 16.6626 4.82561 16.678 4.87188L16.7208 5.00004H17.9903C17.9961 4.99999 18.0019 4.99999 18.0078 5.00004H20C20.5523 5.00004 21 5.44776 21 6.00004C21 6.55232 20.5523 7.00004 20 7.00004H18.9356L18.1945 18.1164C18.1615 18.6109 18.133 19.0392 18.0812 19.3917C18.0264 19.7651 17.9358 20.1336 17.7356 20.485C17.4355 21.0118 16.9828 21.4353 16.4372 21.6997C16.0732 21.8761 15.6995 21.942 15.3233 21.9719C14.9681 22.0001 14.5389 22.0001 14.0432 22H9.95676C9.46111 22.0001 9.03187 22.0001 8.67668 21.9719C8.30052 21.942 7.9268 21.8761 7.56278 21.6997C7.0172 21.4353 6.56454 21.0118 6.26443 20.485C6.0642 20.1336 5.9736 19.7651 5.91878 19.3917C5.86702 19.0392 5.83849 18.6109 5.80553 18.1163L5.06445 7.00004H4C3.44772 7.00004 3 6.55232 3 6.00004C3 5.44776 3.44772 5.00004 4 5.00004H5.99225C5.99809 4.99999 6.00392 4.99999 6.00974 5.00004H7.27924L7.32196 4.87188C7.33738 4.82562 7.3526 4.77972 7.3677 4.73422C7.58286 4.0855 7.77171 3.51612 8.14017 3.07551C8.46236 2.69024 8.87612 2.39202 9.3435 2.2082C9.87802 1.99798 10.4779 1.99888 11.1614 1.9999ZM7.97694 7.00004C7.99245 7.0004 8.00792 7.0004 8.02334 7.00004H15.9767C15.9921 7.0004 16.0076 7.0004 16.0231 7.00004H16.9311L16.2014 17.9464C16.1652 18.4884 16.1413 18.8366 16.1024 19.1012C16.0654 19.3536 16.0248 19.4476 15.9978 19.495C15.8978 19.6706 15.7469 19.8118 15.565 19.8999C15.5159 19.9237 15.4194 19.958 15.1651 19.9781C14.8985 19.9993 14.5494 20 14.0062 20H9.99377C9.45059 20 9.10149 19.9993 8.83495 19.9781C8.58058 19.958 8.48412 19.9237 8.435 19.8999C8.25314 19.8118 8.10225 19.6706 8.00221 19.495C7.9752 19.4476 7.93464 19.3536 7.89757 19.1012C7.85873 18.8366 7.83477 18.4884 7.79864 17.9464L7.06889 7.00004H7.97694ZM14.6094 5.00004H9.39062C9.54424 4.56085 9.60391 4.44283 9.6744 4.35853C9.7818 4.23011 9.91972 4.1307 10.0755 4.06943C10.2092 4.01685 10.3917 4.00004 11.3064 4.00004H12.6936C13.6083 4.00004 13.7908 4.01685 13.9245 4.06943C14.0803 4.1307 14.2182 4.23011 14.3256 4.35853C14.3961 4.44283 14.4558 4.56085 14.6094 5.00004ZM10 9.00004C10.5523 9.00004 11 9.44776 11 10V17C11 17.5523 10.5523 18 10 18C9.44772 18 9 17.5523 9 17V10C9 9.44776 9.44772 9.00004 10 9.00004ZM14 9.00004C14.5523 9.00004 15 9.44776 15 10V17C15 17.5523 14.5523 18 14 18C13.4477 18 13 17.5523 13 17V10C13 9.44776 13.4477 9.00004 14 9.00004Z"
                                        fill="#107E3E"
                                />
                            </svg>
                        </a>
                    </div>
                </div>
            </li>
        </c:forEach>
    </ul>
</aui:form>

